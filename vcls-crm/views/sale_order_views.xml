<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- We Override the form view -->
        <record model="ir.ui.view" id="view_order_form">
            <field name="name">sale.order.form</field>
            <field name="model">sale.order</field>
            <field name="priority">3000</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <field name="pricelist_id" position="after">
                    <field name="product_category_id" required='True'/>
                </field>

                <field name="partner_invoice_id" position="replace">
                    <field name="partner_invoice_id" string="Invoicing Contact" domain="['|',('parent_id','=',partner_id),('id','=',partner_id)]" groups="sale.group_delivery_invoice_address" context="{'default_type':'invoice'}" options="{&quot;always_reload&quot;: True}"/>
                </field>
                <field name="partner_shipping_id" position="replace">    
                    <field name="partner_shipping_id" string="Deliverable Contact" invisible="0" domain="['|',('parent_id','=',partner_id),('id','=',partner_id)]" groups="sale.group_delivery_invoice_address" context="{'default_type':'delivery'}" options="{&quot;always_reload&quot;: True}"/>
                </field>

                <xpath expr="//field[@name='order_line']//tree/field[@name='product_id']" position="replace">
                    <field name="product_id" domain="[('categ_id','child_of',parent.product_category_id)]" options="{'no_create_edit':True}" attrs="{'readonly': [('product_updatable', '=', False)],'required': [('display_type', '=', False)],}" force_save="1" context="{'search_default_group_category':1,'search_default_group_info':1,'tree_view_ref':'vcls-crm.product_tree_view','partner_id': parent.partner_id,'quantity': product_uom_qty,'pricelist': parent.pricelist_id,'uom':product_uom,'company_id': parent.company_id,'default_lst_price': price_unit,'default_description_sale': name}"/>
                </xpath>

            </field>
        </record>
        
        
    </data>
</odoo>