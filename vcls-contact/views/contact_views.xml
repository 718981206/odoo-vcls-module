<odoo>
  <data>

    <record id="view_contact_search_main" model="ir.ui.view">
      <field name="name">view_contact_search_main</field>
      <field name="model">res.partner</field>
      <field name="arch" type="xml">
        <search string="Search Partner">
          <field name="name" filter_domain="['|','|',('display_name','ilike',self),('ref','=',self),('email','ilike',self)]"/>
          <field name="parent_id" domain="[('is_company','=',True)]" operator="child_of"/>
          <filter name="filter_my_partners" help="My Contacts" domain="[('user_id','=',uid)]"/>
          <separator/>
          <filter string="Individuals" name="type_person" domain="[('is_company','=',False)]"/>
          <filter string="Companies" name="type_company" domain="[('is_company','=',True)]"/>
          <separator/>
          <!-- 
          <filter string="Customers" name="customer" domain="['|','|',('customer','=',True),('category_id','=',ref('vcls-contact.category_account')),('category_id','=',False)]"/>
          <filter string="Vendors" name="supplier" domain="['|','|',('supplier','=',True),('category_id','=',ref('vcls-contact.category_suppliers')),('category_id.parent_id','=',ref('vcls-contact.category_suppliers'))]"/>
          -->
          <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
          <separator/>
          <field name="category_id" string="Tag" filter_domain="[('category_id','ilike', self)]"/>
          <field name="user_id"/>
          <field name="phone" filter_domain="['|',('phone','ilike',self),('mobile','=',self)]"/>
          <group expand="0" name="group_by" string="Group By">
              <filter name="salesperson" string="Salesperson" domain="[]" context="{'group_by' : 'user_id'}"/>
              <filter name="group_company" string="Company" context="{'group_by': 'parent_id'}"/>
              <filter name="group_country" string="Country" context="{'group_by': 'country_id'}"/>
          </group>
        </search>   
      </field>
    </record>

    <!-- used to visualize All Contacts -->
    <record model="ir.actions.act_window" id="action_all_contacts">
      <field name="name">All</field>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize VCLS Entities -->
    <record model="ir.actions.act_window" id="action_vcls_entities">
      <field name="name">VCLS Entities</field>
      <field name="domain" eval="[('is_company','=',True),('is_internal','=',True)]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize Client Accounts -->
    <record model="ir.actions.act_window" id="action_accounts">
      <field name="name">Accounts</field>
      <field name="domain" eval="[('is_company','=',True),('is_internal','=',False),'|','|',('customer','=',True),('category_id','=',ref('vcls-contact.category_account')),('category_id','=',False)]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize Suppliers Accounts, i.e. the ones having suppliers or one suppliers child as a tag -->
    <record model="ir.actions.act_window" id="action_suppliers_accounts">
      <field name="name">Accounts</field>
      <field name="domain" eval="[('is_company','=',True),('is_internal','=',False),'|','|',('supplier','=',True),('category_id','=',ref('vcls-contact.category_suppliers')),('category_id.parent_id','=',ref('vcls-contact.category_suppliers'))]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize VCLS Employees-->
    <record model="ir.actions.act_window" id="action_vcls_employees">
      <field name="name">VCLS Employees</field>
      <field name="domain" eval="[('employee','=',True)]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize Client Contacts-->
    <record model="ir.actions.act_window" id="action_client_contacts">
      <field name="name">Individuals</field>
      <field name="domain" eval="[('is_company','=',False),('employee','=',False),'|','|',('customer','=',True),('parent_id.category_id','=',ref('vcls-contact.category_account')),('parent_id.category_id','=',False)]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <!-- used to visualize Suppliers Contacts, i.e. the ones having suppliers or one suppliers child as a tag-->
    <record model="ir.actions.act_window" id="action_suppliers_contacts">
      <field name="name">Individuals</field>
      <field name="domain" eval="[('is_company','=',False),('employee','=',False),'|','|',('supplier','=',True),('parent_id.category_id','=',ref('vcls-contact.category_suppliers')),('parent_id.category_id.parent_id','=',ref('vcls-contact.category_suppliers'))]"/>
      <field name="res_model">res.partner</field>
      <field name="view_mode">kanban,tree,form,activity</field>
    </record>
    
    <record id="base.view_partner_form" model="ir.ui.view">
            <field name="name">res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="Partners">

                <header>
                   <field name="stage" widget="statusbar" options="{'clickable': '1'}"/> 
                </header>
                <sheet>
                     <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object"
                                class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                options='{"terminology": "archive"}'/>
                        </button>
                    </div> 
                    <div id="o_contact_container">
                        
                            <div id="o_contact_main">
                            
                                <field name="image" widget="image" class="oe_avatar" options="{&quot;preview_image&quot;:&quot;image_medium&quot;}"/>
                               
                                <div class="oe_title">
                                    <label for="name" class="oe_edit_only" string="First Name then Family Name" />
                                    <h1>
                                        <field name="name" placeholder="Contact First Name then Family Name" required="True"/>
                                    </h1>
                                </div>
                    
                                
                                
                                <!-- the header is accessible to everyone -->
                                <group>
                                    <group string="">
                                        <field name="is_company" invisible="1"/>
                                        <field name="email" widget="email"/>
                                        
                                    </group>
                                    <group string="">
                                        <field name="phone" widget="phone"/>
                                        <field name="mobile" widget="phone"/>
                                    </group>
                                </group>
                                
                            </div>
                      </div>
                      <notebook>
                            <!-- personnal info just accessible to the employee and the hr -->
                            <page name="personal_information" string="Personal Information" attrs="">
                                <group>
                                    <group string="Administrative Information">
                                        <field name="name"/>
                                        <field name="parent_name"/>
                                        <field name="country_id" string="Primary Citizenship"/>
                                    </group>
                                    
                                    <group string="Contact Information">
                                        
                                        <label for="street" string="Private Address"/>
                                        <div class="o_address_format">
                                            <field name="street" placeholder="Street..." class="o_address_street"/>
                                            <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                            <field name="city" placeholder="City" class="o_address_city"/>
                                            <field name="state_id" class="o_address_state" placeholder="State" options="{&quot;no_open&quot;: True}"/>
                                            <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                            <field name="vat" placeholder="e.g. BE0477472701" attrs="{'readonly': [('parent_id','!=',False)]}"/>
                                        </div>
                    
                                        <field name="email" widget="email"/>
                                        <field name="phone" widget="phone"/>
                                        
                                    </group>
                                </group>
                                <field name="comment" placeholder="Other Information ..." colspan="4"/>
                            </page>
                            
                            <page name="job_information" string="Job Information" attrs="">
                            <!-- <page name="job_information" string="Job Information" attrs="{'invisible': [('access_level', 'not in', ['hr'])]}">-->
                                <group>
                                    <group string="General Information">
                        
                                        <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" placeholder="e.g. FR - Cadre" groups="hr.group_hr_user"/>
                                        <field name="function"/>
                                        <field name="parent_id" string='Line Manager'/>
                                        
                                        
                                    </group>
                                   
                                    <group string=" ">
                                        <field name="company_id" string="Legal Entity"/>
                                        <field name="user_id"/>
                                        <!--<field name="job_profile_id"/> -->
                                        
                                        
                                    </group>
                                      
                                    </group>
                                    
                            </page>
                            
                            <page name='sales_purchases' string="Sales &amp; Purchases">
                                <group name="container_row_2">
                                    <group string="Sales" name="sale" priority="1">
                                        <field name="customer"/>
                                        <field name="user_id"/>
                                    </group>
                                    <group string="Purchase" name="purchase" priority="2">
                                        <field name="supplier"/>
                                    </group>
                                    <group string="Misc">
                                        <field name="ref"/>
                                        <field name="barcode"/>
                                        <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                                        <field name="industry_id" attrs="{'invisible': [('is_company', '=', False)]}" options="{'no_create': True}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                </sheet>
                </form>
            </field>
        </record>
        
  </data>
</odoo>