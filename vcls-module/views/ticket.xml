<?xml version="1.0"?>

<odoo>
  <data>
      
        <!-- View Form related to the existing employees -->
        <record id="view_ticket_form_default" model="ir.ui.view">
            <field name="name">view_ticket_form_default</field>
            <field name="model">helpdesk.ticket</field>
            
            <field name="arch" type="xml">
                <form string="Helpdesk Ticket">
                    <header >
                        <button name="assign_ticket_to_self" string="Assign To Me" type="object" class="oe_highlight" groups="helpdesk.group_helpdesk_user" attrs="{'invisible': [('access_level', 'not in', ['support'])]}"/>
                        <field name="stage_id" widget="statusbar" options="{'clickable': '1', 'fold_field': 'fold'}" attrs="{'readonly': [('access_level', 'not in', ['support'])]}"/>
                    </header>
                    <sheet>
                        <field name="sla_active" invisible="1"/>
                        <field name="partner_tickets" invisible="1"/>
                        <div class="oe_button_box" name="button_box" attrs="{'readonly': [('access_level', 'not in', ['support'])]}">
                            <button class="oe_stat_button" name="open_customer_tickets" icon="fa-ticket" type="object" attrs="{'invisible': ['|', ('partner_id', '=', False), ('partner_tickets', '&lt;=', 1)]}">
                                <field name="partner_tickets" string="Customer Tickets" widget="statinfo"/>
                            </button>
                            <button name="action_get_attachment_tree_view" class="oe_stat_button" icon="fa-book" type="object" attrs="{'invisible':  [('attachment_number', '=', 0)]}">
                                <field name="attachment_number" widget="statinfo" string="Documents"/>
                            </button>
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
                            </button>
                        </div>
                        <field name="kanban_state" widget="state_selection"/>
                        <div class="oe_title">
                            <h1><field name="name" class="field_name" placeholder="Subject..."/></h1>
                            <field name="sla_name" class="badge badge-danger oe_inline" attrs="{'invisible': [('sla_active','=',False)]}"/>
                        </div>
                        <group>
                            <group>
                                <field name="access_level" invisible="1"/>
                                <field name="team_id"/>
                                <field name="subcategory_id" domain="[('team_id','=',team_id)]"/>
                                <field name="sla_id" invisible="1"/>
                            </group>
                            <group>
                                <field name="partner_id" class="field_partner_id"/>
                                <field name="partner_name" attrs="{'invisible': [('partner_id', '!=', False)]}"/>
                                <field name="partner_email"/>
                                <field name="priority" widget="priority"/>
                            </group>
                            
                            
                        </group>
                        <field name="description" class="field_description" placeholder="Description of the ticket..."/>
                        <group string='Documented by support'>
                                <field name="ticket_type_id" attrs="{'readonly': [('access_level', 'not in', ['support'])]}"/>
                                <field name="user_id" class="field_user_id" attrs="{'readonly': [('access_level', 'not in', ['support'])]}"/>
                                <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}" attrs="{'readonly': [('access_level', 'not in', ['support'])]}"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread" options="{'post_refresh': 'recipients'}"/>
                    </div>
                </form>
            </field>
            

        </record>
      
                  
  </data>
</odoo>
                   
               
            