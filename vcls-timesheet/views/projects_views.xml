<odoo>
    <data>
        <record id="project_timesheet_forecast_report_action" model="ir.actions.act_window">
            <field name="name">Timesheet Forecast Analysis</field>
            <field name="res_model">project.timesheet.forecast.report.analysis</field>
            <field name="view_mode">graph,pivot</field>
            <field name="search_view_id" ref="project_timesheet_forecast.project_timesheet_forecast_report_view_search"/>
            <field name="context">{
                'pivot_row_groupby': ['employee_id'],
                'pivot_col_groupby': ['date', 'type'],
                'pivot_measures': ['number_hours'],
                'group_by': ['date:month', 'type'],
                'search_default_year': True,
                "default_project_id": active_id, 
                "search_default_project_id": [active_id], 
            }</field>
            <field name="help">This report performs analysis on your timesheet and forecast. This allow to have a global view of past forecast and what was really done. Comparing old estimation and effective work amount will help you to better plan your futur project.</field>
        </record>
    
        <record id="edit_project" model="ir.ui.view">
                <field name="name">project.project.form</field>
                <field name="model">project.project</field>
                <field name="inherit_id" ref="project.edit_project"/>
                <field name="arch" type="xml">
                    <button name="toggle_active" position="before">
                        <button
                            class="oe_stat_button"
                            name="%(project_timesheet_forecast_report_action)d"
                            type="action"
                            icon="fa-calendar"
                            string="Report Analysis"
                        />
                    </button>
                </field>
        </record>

    </data>
</odoo>