<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- base generic view  -  -->
    <record id="view_formation" model="ir.ui.view">
        <field name="name">formation.formation.tree</field>
        <field name="model">formation.formation</field>
        <field name="arch" type="xml">
                <tree string="Trainings">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="teacher_id"/>
                    <field name="student_ids"/>
                </tree>
            </field>
    </record>

    <record id="view_partner_inherit" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//h1[1]" position="after">
                <field name="formation_taught_ids">
                    <tree string="Trainings">
                    <field name="name"/>
                    <field name="date"/>
                </tree>
                </field>
            </xpath>
             
        </field>
    </record>



    <!-- form View -->
    <record id="view_formation_form" model="ir.ui.view">
        <field name="name">formation.formation.form</field>
        <field name="model">formation.formation</field>
        <field name="arch" type="xml">
            <form string="add a training form">
            <group colspan="4">
            <group colspan="2" col="2">
                <separator string="details about the traning" colspan="2"/>
                <field name="teacher_id"/>
            </group>

            <notebook colspan="4">
                <page string="Details">
                    <field name="name" />
                    <field name="date"/>
                    <field name="description" />
                </page>
                <page string="Add a student">
                    <field name="student_ids" />
                </page>
            </notebook>
            </group>
        </form>
        </field>
    </record>
   
    <!-- search view -->
    <record id="view_formation_search" model="ir.ui.view">
        <field name="name">formation.formation.search</field>
        <field name="model">formation.formation</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="teacher_id"/>
                <field name="student_ids"/>
            </search>
        </field>
    </record>

    <!-- action window -->
    <record id="act_formation_1" model="ir.actions.act_window">
        <field name="name">Formation</field>
        <field name="res_model">formation.formation</field>
        <field name="view_mode">tree,form</field>        
    </record>

    <record id="act_formation_2" model="ir.actions.act_window">
        <field name="name">Formation</field>
        <field name="res_model">formation.formation</field>
        <field name="view_mode">kanban</field>        
    </record>


    <menuitem id="menu_formation_1" name="Forlation Menu" parent=""
        sequence="1"/>
    <menuitem id="menu_formation_2" name="Forlation Menu Fils" parent="menu_formation_1"
        sequence="1" action="act_formation_1"/>
    <menuitem id="menu_formation_3" name="Forlation Menu Fils nb 2" parent="menu_formation_1"
        sequence="1" action="act_formation_2"/>

</odoo>


