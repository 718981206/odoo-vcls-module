<odoo>
  <data>
      
        <!-- Base View visible by everyone on everyone in the company -->
        <record id="employee_view_form_all" model="ir.ui.view">
            
            <field name="name">employee_view_form_all</field>
            <field name="model">hr.employee</field>
            <field name="priority">9</field>
            <field name="arch" type="xml">
                
                <form string="Employee">
                    <header attrs="{'invisible': [('access_level', 'not in', ['hr','support'])]}"> <!-- UNDER TEST -->
                        <!-- Header containing action buttons only visible by HR -->
                        
                        <!-- Button pop up new contract -->
                        <button name = "new_contract_pop_up" string = "New contract" type = "object"
                                icon="fa-legal"
                                attrs="{'invisible': [('access_level', 'not in', ['hr','support'])]}"/>
                        
                        <!-- Button pop up new bonus -->
                        <button name = "new_bonus_pop_up" string = "New over variable salary" type = "object"
                                icon="fa-trophy"
                                attrs="{'invisible': [('access_level', 'not in', ['hr','support'])]}"/>
                        
                        <!-- Button pop up new bonus -->
                        <button name = "new_benefit_pop_up" string = "New benefit set" type = "object"
                                icon="fa-coffee"
                                attrs="{'invisible': [('access_level', 'not in', ['hr','support'])]}"/>

                    </header>
                    
                    <sheet>
                        
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" groups="hr.group_hr_user" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
                            </button>
                        </div> 
                        
                        <div id="o_employee_container">
                        
                            <div id="o_employee_main">
                            
                                <field name="image" widget="image" class="oe_avatar" options="{&quot;preview_image&quot;:&quot;image_medium&quot;}"/>
                               
                                <div class="oe_title">
                                    <label for="name" class="oe_edit_only" string="First Name then Family Name" />
                                    <h1>
                                        <field name="name" placeholder="Employee's First Name then Family Name" required="True"/>
                                    </h1>
                                </div>
                    
                                
                                <field name="job_info"/>
        
                                <group>
                                    <group string="">
                                        <field name="office_id"/>
                                        <field name="work_email" widget="email"/>
                                        
                                    </group>
                                    <group string="">
                                        <field name="department_id"/>
                                        <field name="work_phone" widget="phone"/>
                                        <field name="mobile_phone" widget="phone"/>
                                    </group>
                                </group>
                                
                            </div>
                            
                            <div id="o_employee_right">
                                <h4 class="o_org_chart_title mb16 mt0">Organization Chart</h4>
                                <field name="child_ids" widget="hr_org_chart"/>
                            </div>
                            
                        </div>
                        
                        <notebook>
                            
                            <page name="personal_information" string="Personal Information" attrs="{'invisible': [('access_level', 'not in', ['hr','support','me'])]}">
                                <group>
                                    <group string="Administrative Information">
                                        <field name="employee_external_id"/>
                                        <field name="gender"/>
                                        <field name="first_name"/>
                                        <field name="middle_name"/>
                                        <field name="family_name"/>
                                        <field name="diploma_ids" widget="many2many_tags"/>
                                        <field name="family_name_at_birth"/>
                                        <field name="birthday" string="Date of Birth"/>
                                        <field name="ssnid" string="Social Security Number"/>
                                        <field name="country_id" string="Primary Citizenship"/>
                                        <field name="country2_id"/>
                                        <field name="permit_no" string="Work Permit"/>
                                        <field name="work_permit_expire"/>
                                        <field name="link_employee_folder" widget="url"/>
                                    </group>
                                    
                                    <group string="Contact Information">
                                        
                                        <label for="street" string="Private Address"/>
                                        <div class="o_address_format">
                                            <field name="street" placeholder="Street..." class="o_address_street"/>
                                            <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                            <field name="city" placeholder="City" class="o_address_city"/>
                                            <field name="state_id" class="o_address_state" placeholder="State" options="{&quot;no_open&quot;: True}"/>
                                            <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                            <field name="address_country_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                                        </div>
                    
                                        <field name="private_email" widget="email"/>
                                        <field name="private_phone" widget="phone"/>
                                        <field name="private_mobile" widget="phone"/>
                                        <field name="emergency_contact" placehoder="First Name then Last Name"/>
                                        <field name="emergency_phone" widget="phone"/>
                                        <field name="ice_contact_relationship"/>
                                        
                                    </group>
                                </group>
                                <field name="notes" placeholder="Other Information ..." colspan="4"/>
                            </page>
                            
                            <page name="job_information" string="Job Information" attrs="{'invisible': [('access_level', 'not in', ['lm', 'hr','hl','support','me'])]}">
                                <group>
                                    <group string="General Information">
                        
                                        <field name="category_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" placeholder="e.g. FR - Cadre" groups="hr.group_hr_user"/>
                                        <field name="job_title"/>
                                        <field name="parent_id" string='Line Manager'/>
                                        <field name="employee_seniority_date"/>
                                        <field name="employee_start_date"/>
                                        <field name="employee_end_date"/>
                                        <field name="employee_end_reason"/>
                                        <field name="company_id" string="Legal Entity"/>
                                        <field name="resource_calendar_id" string="Work Schedule" domain="[('company_id','=',company_id)]"/>
                                        <field name="contract_id" string="Current Contract" context="{'form_view_ref':'vcls-hr.vcls_contract_form1'}"/> 
                                        
                                    </group>
                                   
                                    <group>
                
                                        <field name="job_profile_id"/> 
                                        
                                    </group>
                                      
                                    </group>
                                    
                            </page>
                            
                            <page name="trial_period" string="Trial Period" attrs="{'invisible': ['|',('access_level', 'not in', ['hr','support','me','lm']),('country_name', '=', 'United States')]}">
                                <group>
                                    <group>
                                        <field name="trial_period_id" placeholder='Please select the period type.'/>
                                        <field name="trial_start_date" placeholder='And define period start date.'/>
                                    </group>
                                    <group>
                                        <field name="trial_notification_date"/>
                                        <field name="trial_end_date"/>
                                    </group>
                                </group>
                            </page>
                            
                            
                            <page name="salary_info" string="Salary Information" attrs="{'invisible': [('access_level', 'not in', ['hr','lm','support','me'])]}">
                                <group string="Salaries">
                                    <field name="contract_ids" string="">
                                        <tree string="Employee Salaries">
                                            <field name="currency_id" invisible='1'/>
                                            <field name="date_start"/>
                                            <field name="date_end"/>
                                            <field name="prorated_salary"/>
                                        </tree>
                                    </field>
                                </group>
                                <group string="Over Variable Salary">
                                    <field name="bonus_ids" string="">
                                        <tree string="Employee Bonus">
                                            <field name="currency_id" invisible='1'/>
                                            <field name="name"/>
                                            <field name="date"/>
                                            <field name="amount"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            
                            
                            <page name="benefits" string="Benefits" attrs="{'invisible': [('access_level', 'not in', ['hr','lm','support','me'])]}">
                                <group string="Benefits">
                                    <field name="benefit_ids" string="">
                                        <tree string="Employee Benefits">
                                            <field name="currency_id" invisible='1'/>
                                            <field name="date"/>
                                            <field name="car_info"/>
                                            <field name="car_allowance"/>
                                            <field name="transport_allowance"/>
                                            <field name="phone"/>
                                        </tree>
                                    </field>
                                </group> 
                            </page>

                            
                            <page name="health_care" string="Health Care" attrs="{'invisible': [('access_level', 'not in', ['hr','support','me'])]}">
                                <group>
                                    <group attrs="{'invisible': [('country_name', 'not in', ['France'])]}">
                                        <field name="last_medical_checkup"/>
                                        <field name="next_medical_checkup"/>
                                        <field name="need_specific_medical" widget="checkbox"/>
                                    </group>
                                    <group string= 'Health Insurance'>
                                        <field name="affiliated_company"/>
                                        <field name="affiliation_date"/>
                                        <field name="medical_policy_number"/>
                                    </group>
                                </group>
                            </page>
                            
                             
                            <page name="technical" string="Technical Fields" attrs="{'invisible': [('access_level', 'not in', ['support'])]}">
                                <group>
                                    <field name="user_id"/>
                                    <field name="employee_status"/>
                                    <field name="access_level" invisible='0'/>
                                    <field name="country_name" invisible='0'/>
                                </group>
                            </page>
                            
                        </notebook>
                        
                        <group attrs="{'invisible': [('access_level', 'not in', ['hr','me'])]}" >
                            <div class="oe_chatter">
                                <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                                <field name="activity_ids" widget="mail_activity"/>
                                <field name="message_ids" widget="mail_thread"/>
                            </div>
                        </group>
                    </sheet> 
                    
                </form>
            </field>
        </record>
      
        <!-- Tree view visible by anyone -->
        <record id="employee_view_tree_all" model="ir.ui.view">
            <field name="name">employee_view_tree_all</field>
            <field name="model">hr.employee</field>
            <field name="priority">9</field>
            <field name="arch" type="xml">
                <tree string="Employees" decoration-bf="message_needaction==True">
                    <field name="name"/>
                    <field name="work_email"/>
                    <field name="office_id"/>
                    <field name="department_id"/>
                    <field name="job_info"/>
                    <field name="parent_id"/>
                    <field name="message_needaction" invisible="1"/>
                </tree>
            </field>
          </record>
      
          <!-- Search view -->
        <record id="view_employee_search" model="ir.ui.view">
            <field name="name">view_employee_search</field>
            <field name="model">hr.employee</field>
            <field name="priority">9</field>
            <field name="arch" type="xml">
                <search string="Employees">
                    <field name="name" string="Employees" filter_domain="['|',('work_email','ilike',self),('name','ilike',self)]"/>
                    <field name="category_ids" groups="hr.group_hr_user"/>
                    <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                    <separator/>
                    <filter string="Unread Messages" name="message_needaction" domain="[('message_needaction', '=', True)]"/>
                    <group expand="0" string="Group By">
                        <filter name="group_company" string="Company" domain="[]" context="{'group_by':'company_id'}" />
                        <filter name="group_office" string="Office" domain="[]" context="{'group_by':'office_id'}" />
                        <filter name="group_manager" string="Manager" domain="[]" context="{'group_by':'parent_id'}"/>
                        <filter name="group_department" string="Department" domain="[]" context="{'group_by':'department_id'}"/>
                    </group>
                </search>
                
            </field>
          </record>
      
    </data>
</odoo>

       